# Markdown API

An idea:

- Markdown and JSON API as a service.
- CRUD REST API for markdown and JSON, backed by Git repo.

Uses:

- Serverless [[jamstack]] sites
  - Seperate templates from content.
    - Standard set of templates for sites using a [[static-stite-generator]] like [[gatsby]] along with this service could be used to orchestrate a web site builder SAAS. [[second-order-idea]]
- Add an editor + this api is a simple CMS
  - [[second-order-idea]]
- Any application that needs a record of all changes to the database.
- Multi-author content managment systems.
- Forkable content managment systems.
  - This is a goal for meadow [[meadow]]
  - Front-end for [[foam]], with an editor.
  -

## Git-Backed

### Saving data

- Use github actions to respond to POST events and write markdown.
- Use [octokit.js](https://octokit.github.io/rest.js/v18#repos) or the GrpahQL client to make commit.
  - This is how [[meadow]] Halloween works now:
    - [API Route](https://github.com/Shelob9/meadow-halloween/blob/75cd0dfaa98f66cdc9e6186239579c362a637cd1/pages/api/bubbles.ts#L9-L48)
    - [octokit logic](https://github.com/Shelob9/meadow-halloween/blob/75cd0dfaa98f66cdc9e6186239579c362a637cd1/lib/bubbleApi.ts)

### Reading data

- Use [octokit.js](https://octokit.github.io/rest.js/v18#repos)
  - This is how [[meadow]] Halloween works now:
    - [API Route](- Use [octokit.js](https://octokit.github.io/rest.js/v18#repos) or the GrpahQL client to make commit.
    - [octokit logic](https://github.com/Shelob9/meadow-halloween/blob/75cd0dfaa98f66cdc9e6186239579c362a637cd1/lib/bubbleApi.ts)

### Roy Use Laravel

- Laravel Gitub API https://github.com/GrahamCampbell/Laravel-GitHub
- Read/Write files https://github.com/KnpLabs/php-github-api/blob/master/doc/repo/contents.md#update-a-file

## Also JSON

Support Markdown and JSON files.

Serve a JSON API [[serve-json.md]] from github.

## Pros and Cons For Customers

Private repo becomes cheap, but slow private API.

Good for static build, less good for dynamic sites.

Reads can be sped up with proxy/ cache. Writes will always be slow. Using [swr](https://swr.vercel.app/) to send the update will allow for the update to happen in cache/ client first. This will require using [mutation](https://swr.vercel.app/docs/mutation).

- [Intro To SWR](https://www.smashingmagazine.com/2020/06/introduction-swr-react-hooks-remote-data-fetching/)

## Markdown Editor And API

[[meadow]] Halloween now has a markdown editor and reading/ write/ render markdown from Github repo. Can extract all of this.

App would be a vercel app, with next-auth github auth, like Meadow has. Would provide list route, edit route and delete route. Also an editor.

## Maybe Do Buisness

Making this a template repo, that can be deployed on Vercel and writing about it on [dev.to](http://dev.to/shelob9) would be cool. It would also be a good way to see if anyone else thaught this was cool and if so how would they use it.

Could be a hosted version is the Buisness here, but I want to see if anyone uses the free/ open-source version first.

### Assumptions

- [Rate limits](https://docs.github.com/en/rest/overview/resources-in-the-rest-api#rate-limiting) will not render this useless.
- It is simpler then using Octokit.
- Others would value seperating content and code where both are git repos.
- Multi-author, versionable and forkable content is a problem that anyone has.

[//begin]: # "Autogenerated link references for markdown compatibility"
[static-stite-generator]: static-stite-generator "Statice Site Generator(s)"
[gatsby]: gatsby "Gatsby"
[second-order-idea]: second-order-idea "Second Order Ideas"
[meadow]: meadow "Meadow"
[//end]: # "Autogenerated link references"
